country2012 <- rank_2012 %>% group_by(country)
#計算各年度國家成績
country2012 <- rank_2012 %>%
group_by(country)
library(dplyr)
#計算各年度國家成績
country2012 <- rank_2012 %>%
group_by(country)
View(country2012)
rank_country <- merge(rank, by = "country")
rank_country <- merge(rank_country, rank, by = "country")
?group
rank <- read.csv("./Data/College ranking.csv", stringsAsFactors = F, na.strings = c("NA", ""))
GDP <- read.csv("./Data/Country GDP.csv", stringsAsFactors = F, na.strings = c("NA",""))
data <- read.csv("./Data/edu_var.csv", stringsAsFactors = F, na.strings = c("NA",""))
expend <- read.csv("./Data/Government expenditure.csv", stringsAsFactors = F, na.strings = c("NA",""))
rank_2012 <- rank[rank$year == "2012",]
rank_2013 <- rank[rank$year == "2013",]
rank_2014 <- rank[rank$year == "2014",]
rank_2014 <- rank_2014[1:100,]
rank_2015 <- rank[rank$year == "2015",]
rank_2015 <- rank_2015[1:100,]
rank_total1 <- merge(rank_2012, rank_2013, by = "institution")
rank_total2 <- merge(rank_2014, rank_2015, by = "institution")
rank_total <- merge(rank_total1, rank_total2, by = "institution")
ggplot(rank_total, aes(x = score.x.x)) + geom_histogram() + facet_grid(~country.x.x) + theme_bw() + stat_bin(bins = 100)
score <- data.frame()
View(rank_total1)
View(rank_total)
score$country <- rank_total$country.x.x
score <- rank_total$country.x.x
score <- as.dataframe(rank_total$country.x.x)
score <- as.data.frame(rank_total$country.x.x)
View(score)
colnames(score, "country")
colnames(score) <- "country"
View(score)
str(rank_2012$country)
summary(rank_2012)
View(rank_2012)
View(rank_total)
score <- merge(score, rank_2012[c(3,13),])
View(score)
rank_2012[c(3,13),
rank_2012[c(3,13),
rank_2012[c(3,13),
rank_2012[c(3,13),]
?cbind
rank <- read.csv("./Data/College ranking.csv", stringsAsFactors = F, na.strings = c("NA", ""))
GDP <- read.csv("./Data/Country GDP.csv", stringsAsFactors = F, na.strings = c("NA",""))
data <- read.csv("./Data/edu_var.csv", stringsAsFactors = F, na.strings = c("NA",""))
expend <- read.csv("./Data/Government expenditure.csv", stringsAsFactors = F, na.strings = c("NA",""))
rank_2012 <- rank[rank$year == "2012",]
rank_2013 <- rank[rank$year == "2013",]
rank_2014 <- rank[rank$year == "2014",]
rank_2014 <- rank_2014[1:100,]
rank_2015 <- rank[rank$year == "2015",]
rank_2015 <- rank_2015[1:100,]
rank_total1 <- merge(rank_2012, rank_2013, by = "institution")
rank_total2 <- merge(rank_2014, rank_2015, by = "institution")
rank_total <- merge(rank_total1, rank_total2, by = "institution")
score <- data.frame()
score <- as.data.frame(rank_total$country.x.x)
colnames(score) <- "country"
rank_2012[c(3,13),]
rank_2012[,c(3,13)]
score <- merge(score, rank_2012[,c(3,13)], by = "country")
View(score)
ead.csv("./Data/College ranking.csv", stringsAsFactors = F, na.strings = c("NA", ""))
GDP <- read.csv("./Data/Country GDP.csv", stringsAsFactors = F, na.strings = c("NA",""))
data <- read.csv("./Data/edu_var.csv", stringsAsFactors = F, na.strings = c("NA",""))
expend <- read.csv("./Data/Government expenditure.csv", stringsAsFactors = F, na.strings = c("NA",""))
rank_2012 <- rank[rank$year == "2012",]
rank_2013 <- rank[rank$year == "2013",]
rank_2014 <- rank[rank$year == "2014",]
rank_2014 <- rank_2014[1:100,]
rank_2015 <- rank[rank$year == "2015",]
rank_2015 <- rank_2015[1:100,]
rank_total1 <- merge(rank_2012, rank_2013, by = "institution")
rank_total2 <- merge(rank_2014, rank_2015, by = "institution")
rank_total <- merge(rank_total1, rank_total2, by = "institution")
rank <- read.csv("./Data/College ranking.csv", stringsAsFactors = F, na.strings = c("NA", ""))
GDP <- read.csv("./Data/Country GDP.csv", stringsAsFactors = F, na.strings = c("NA",""))
data <- read.csv("./Data/edu_var.csv", stringsAsFactors = F, na.strings = c("NA",""))
expend <- read.csv("./Data/Government expenditure.csv", stringsAsFactors = F, na.strings = c("NA",""))
rank_2012 <- rank[rank$year == "2012",]
rank_2013 <- rank[rank$year == "2013",]
rank_2014 <- rank[rank$year == "2014",]
rank_2014 <- rank_2014[1:100,]
rank_2015 <- rank[rank$year == "2015",]
rank_2015 <- rank_2015[1:100,]
rank_total1 <- merge(rank_2012, rank_2013, by = "institution")
rank_total2 <- merge(rank_2014, rank_2015, by = "institution")
rank_total <- merge(rank_total1, rank_total2, by = "institution")
score <- data.frame()
score <- as.data.frame(rank_total$country.x.x)
colnames(score) <- "country"
View(score)
score <- merge(score, rank_2012[,c(3,13)], by = "country")
score <- data.frame()
score <- as.data.frame(rank_total$country.x.x)
colnames(score) <- "country"
score <- merge(score, rank_2012[,c(3,13)], by = "country", sort = FALSE)
score <- data.frame()
score <- as.data.frame(rank_total$country.x.x)
colnames(score) <- "country"
score <- as.data.frame(rank_2012[,c(3,13)])
View(score)
score <- score[order(score$country)]
score <- score[order(score$country),]
View(score)
score$country == "USA"
mean(score[score$country == "USA"])
mean(score[score$country == "USA",])
mean(as.num(score[score$country == "USA",]))
mean(as.numeric(score[score$country == "USA",]))
score$score <- as.numeric(score$score)
summary(score)
mean(score[score$country == "USA",])
score[score$country == "USA",]
score[score$country == "USA",2]
mean(score[score$country == "USA",2])
View(rank_2012)
score["year"]
rank_2012[year]
rank_2012["year"]
#計算各國各年分數
countrymean <- function(x,y,z){
if(x$country == "y"){
z["y",x[year,1]] <- mean(x[x$country == "y",2])
}
}
score_2012 <- data.frame()
score_2012 <- as.data.frame(rank_2012[,c(3,13,14)])
View(score_2012)
score <- data.frame()
countrymean(score_2012, "USA", score)
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
ifelse(x$country == "y"){
z["y",x[year,1]] <- mean(x[x$country == "y",2])
}
}
#計算各國各年分數
countrymean <- function(x,y,z){
z["y",x[year,1]] <- mean(x[x$country == "y",2])
}
countrymean(score_2012, "USA", score)
#計算各國各年分數
countrymean <- function(x,y,z){
z["y",x["year",1]] <- mean(x[x$country == "y",2])
}
countrymean(score_2012, "USA", score)
score["USA", score_2012["year",1]] <- mean(score_2012[score_2012$country == "USA", 2])
mean(score_2012[score_2012$country == "USA", 2])
score["USA", score_2012["year",1]]
?data.frame
score <- data.frame(row.names = c("country", "2012","2013","2014","2015"))
View(score)
score <- data.frame(`colnames<-`c("country", "2012","2013","2014","2015"))
score <- data.frame(colnames <- c("country", "2012","2013","2014","2015"))
View(score)
score <- data.frame(colnames(c("country", "2012","2013","2014","2015")))
View(score)
View(score)
colnames
score <- data.frame()
name(score) <- c("country", "2012","2013","2014","2015")
names(score) <- c("country", "2012","2013","2014","2015")
score <- data.frame(names = c("country", "2012","2013","2014","2015"))
View(score)
score <- data.frame(country = c(1:100),2012 = c(1:100),2013 = c(1:100),2014 = c(1:100),2015 = c(1:100))
score <- data.frame()
score <- data.frame(country = c(1:100),2012 = c(1:100),2013 = c(1:100),2014 = c(1:100),2015 = c(1:100))
View(score)
score <- data.frame(names = c("country", "2012","2013","2014","2015"))
View(score)
score <- data.frame(country = c("country", "2012","2013","2014","2015"))
View(score)
score <- data.frame(country = "")
View(score)
score <- data.frame(country = "", 2012 = "")
country <- c("Australia", "Canada", "Denmark", "France", "Germany", 'Israe;','Japan','Netherlands','South Korea','Sweden','Switzerland','United Kingdom','USA')
score <- data.frame()
2012 <- c(1:13)
2012
_2012 <- c(1:13)
score <- data.frame(country = c(1:100),x2012 = c(1:100),x2013 = c(1:100),x2014 = c(1:100),x2015 = c(1:100))
score_2012 <- data.frame()
score_2012 <- as.data.frame(rank_2012[,c(3,13,14)])
rank <- read.csv("./Data/College ranking.csv", stringsAsFactors = F, na.strings = c("NA", ""))
rank_2012 <- rank[rank$year == "2012",]
rank_2013 <- rank[rank$year == "2013",]
rank_2014 <- rank[rank$year == "2014",]
rank_2014 <- rank_2014[1:100,]
rank_2015 <- rank[rank$year == "2015",]
rank_2015 <- rank_2015[1:100,]
rank_total1 <- merge(rank_2012, rank_2013, by = "institution")
rank_total2 <- merge(rank_2014, rank_2015, by = "institution")
rank_total <- merge(rank_total1, rank_total2, by = "institution")
#計算各國各年分數
countrymean <- function(x,y,z){
z["y",x["year",1]] <- mean(x[x$country == "y",2])
}
country <- c("Australia", "Canada", "Denmark", "France", "Germany", 'Israe;','Japan','Netherlands','South Korea','Sweden','Switzerland','United Kingdom','USA')
x2012 <- c(1:13)
x2013 <- c(1:13)
x2014 <- c(1:13)
x2015 <- c(1:13)
score <- data.frame(country, x2012, x2013,x2014,x2015)
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
z[y,x["year",1]] <- mean(x[x$country == y,2])
}
countrymean(score_2012, "USA", score)
score_2012 <- data.frame()
score_2012 <- as.data.frame(rank_2012[,c(3,13,14)])
countrymean(score_2012, "USA", score)
score["USA",2012]
View(score)
"x" + score_2012["year", 1]
paste(x,score_2012["year",1])
paste("x",score_2012["year",1])
score_2012["year",1]
score_2012[1,"year"]
paste("x",score_2012[1,"year"])
paste("x",score_2012[1,"year"], sep = "")
#計算各國各年分數
countrymean <- function(x,y,z){
z[y, paste("x",x[1,"year"], sep = "")] <- mean(x[x$country == y,2])
}
countrymean(score_2012, "USA", score)
View(score)
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
z[y, paste("x",x[1,"year"], sep = "")] <- mean(x[x$country == y,2])
}
country <- c("Australia", "Canada", "Denmark", "France", "Germany", 'Israe;','Japan','Netherlands','South Korea','Sweden','Switzerland','United Kingdom','USA')
x2012 <- c(1:13)
x2013 <- c(1:13)
x2014 <- c(1:13)
x2015 <- c(1:13)
score <- data.frame(country, x2012, x2013,x2014,x2015)
score_2012 <- data.frame()
score_2012 <- as.data.frame(rank_2012[,c(3,13,14)])
countrymean(score_2012, "USA", score)
View(score)
score["USA", paste("x",score_2012[1,"year"], sep = "")]
#計算各國各年分數
countrymean <- function(x,y,z){
z["country" == y, paste("x",x[1,"year"], sep = "")] <- mean(x[x$country == y,2])
}
countrymean(score_2012, "USA", score)
View(score)
score[country == "USA", paste("x",score_2012[1,"year"], sep = "")]
score[country == "USA", paste("x",score_2012[1,"year"], sep = "")] <- mean(score_2012[score_2012 == "USA", 2])
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
z["country" == y, paste("x",x[1,"year"], sep = "")] <- mean(x[x$country == y,2])
}
score_2012 <- data.frame()
score_2012 <- as.data.frame(rank_2012[,c(3,13,14)])
countrymean(score_2012, "USA", score)
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
return(z["country" == y, paste("x",x[1,"year"], sep = "")] <- mean(x[x$country == y,2]))
}
countrymean(score_2012, "USA", score)
View(score)
countrymean(score_2012, "USA", score)
countrymean(score_2012, "Australia", score)
countrymean(score_2012, "Canada", score)
countrymean(score_2012, "Denmark", score)
countrymean(score_2012, "France", score)
countrymean(score_2012, "Germany", score)
countrymean(score_2012, "Israe", score)
countrymean(score_2012, "Japan", score)
countrymean(score_2012, "Netherlands", score)
countrymean(score_2012, "South Korea", score)
countrymean(score_2012, "Sweden", score)
countrymean(score_2012, "Switzerland", score)
countrymean(score_2012, "United Kingdom", score)
View(score)
countrymean(score_2012, "USA", score)
countrymean(score_2012, "Australia", score)
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
return(z["country" == y, paste("x",x[1,"year"], sep = "")] <- mean(x[x$country == y,2]))
}
country <- c("Australia", "Canada", "Denmark", "France", "Germany", 'Israel','Japan','Netherlands','South Korea','Sweden','Switzerland','United Kingdom','USA')
x2012 <- c(1:13)
x2013 <- c(1:13)
x2014 <- c(1:13)
x2015 <- c(1:13)
score <- data.frame(country, x2012, x2013,x2014,x2015)
View(score)
score_2012 <- data.frame()
score_2012 <- as.data.frame(rank_2012[,c(3,13,14)])
countrymean(score_2012, "USA", score)
View(score)
?return
#計算各國各年分數
countrymean <- function(x,y,z){
z["country" == y, paste("x",x[1,"year"], sep = "")] <- mean(x[x$country == y,2])
return()
}
countrymean(score_2012, "USA", score)
#計算各國各年分數
countrymean <- function(x,y,z,){
value <- mean(x[x$country == y,2])
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
}
#計算各國各年分數
countrymean <- function(x,y,z,){
value <- mean(x[x$country == y,2])
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
}
#計算各國各年分數
countrymean <- function(x,y,z,){
z["country" == y, paste("x",x[1,"year"], sep = "")] <- return(mean(x[x$country == y,2]))
}
#計算各國各年分數
countrymean <- function(x,y,z){
z["country" == y, paste("x",x[1,"year"], sep = "")] <- return(mean(x[x$country == y,2]))
}
score <- data.frame(country, x2012, x2013,x2014,x2015)
countrymean(score_2012, "USA", score)
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- return(mean(x[x$country == y,2]))
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
}
countrymean(score_2012, "USA", score)
View(score)
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
}
countrymean(score_2012, "USA", score)
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
return(value)
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
}
countrymean(score_2012, "USA", score)
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
return(value)
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
return(z)
}
countrymean(score_2012, "USA", score)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
return(value)
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
z
}
countrymean(score_2012, "USA", score)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
return(value)
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
summary(z)
}
countrymean(score_2012, "USA", score)
?write
?eval.parent
?substitute
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
summary(z)
}
countrymean(score_2012, "USA", score)
countrymean(score_2012, "Australia", score)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
z["country" == y, paste("x",x[1,"year"], sep = "")]
}
countrymean(score_2012, "Australia", score)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
z["country" == y, paste("x",x[1,"year"], sep = "")]
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
z["country" == y, paste("x",x[1,"year"], sep = "")]
}
countrymean(score_2012, "Australia", score)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
}
countrymean(score_2012, "Australia", score)
View(score)
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
value
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
}
countrymean(score_2012, "Australia", score)
return(value)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
return(value)
}
countrymean(score_2012, "Australia", score)
countrymean(score_2012, "Denmark", score)
countrymean(score_2012, "Germany", score)
countrymean(score_2012, "Japan", score)
countrymean(score_2012, "South Korea", score)
countrymean(score_2012, "Switzerland", score)
View(score)
#計算各國各年分數
countrymean <- function(x,y,z){
z["country" == y, paste("x",x[1,"year"], sep = "")]
value <- mean(x[x$country == y,2])
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
return(value)
}
countrymean(score_2012, "Australia", score)
#計算各國各年分數
countrymean <- function(x,y,z){
print(z["country" == y, paste("x",x[1,"year"], sep = "")])
value <- mean(x[x$country == y,2])
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
return(value)
}
countrymean(score_2012, "USA", score)
#計算各國各年分數
countrymean <- function(x,y,z){
value <- mean(x[x$country == y,2])
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- value))
}
#計算各國各年分數
countrymean <- function(x,y,z){
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- mean(x[x$country == y,2])))
}
countrymean(score_2012, "USA", score)
View(score)
rank <- read.csv("./Data/College ranking.csv", stringsAsFactors = F, na.strings = c("NA", ""))
rank_2012 <- rank[rank$year == "2012",]
rank_2013 <- rank[rank$year == "2013",]
rank_2014 <- rank[rank$year == "2014",]
rank_2014 <- rank_2014[1:100,]
rank_2015 <- rank[rank$year == "2015",]
rank_2015 <- rank_2015[1:100,]
rank_total1 <- merge(rank_2012, rank_2013, by = "institution")
rank_total2 <- merge(rank_2014, rank_2015, by = "institution")
rank_total <- merge(rank_total1, rank_total2, by = "institution")
#計算各國各年分數
countrymean <- function(x,y,z){
eval.parent(substitute(z["country" == y, paste("x",x[1,"year"], sep = "")] <- mean(x[x$country == y,2])))
}
country <- c("Australia", "Canada", "Denmark", "France", "Germany", 'Israel','Japan','Netherlands','South Korea','Sweden','Switzerland','United Kingdom','USA')
x2012 <- c(1:13)
x2013 <- c(1:13)
x2014 <- c(1:13)
x2015 <- c(1:13)
score <- data.frame(country, x2012, x2013,x2014,x2015)
score_2012 <- data.frame()
score_2012 <- as.data.frame(rank_2012[,c(3,13,14)])
countrymean(score_2012, "USA", score)
View(score)
score["country" == "USA", paste("x", score_2012[1,"year"], sep = "")]
score["country" == USA, paste("x", score_2012[1,"year"], sep = "")]
View(score)
score["country" == "USA",]
score$country == "USA"
score[score$country == USA, paste("x", score_2012[1,"year"], sep = "")]
score[score$country == 'USA', paste("x", score_2012[1,"year"], sep = "")]
#計算各國各年分數
countrymean <- function(x,y,z){
eval.parent(substitute(z[z$country == y, paste("x",x[1,"year"], sep = "")] <- mean(x[x$country == y,2])))
}
countrymean(score_2012, "Australia", score)
countrymean(score_2012, "USA", score)
countrymean(score_2012, "Australia", score)
countrymean(score_2012, "Canada", score)
countrymean(score_2012, "Denmark", score)
countrymean(score_2012, "France", score)
countrymean(score_2012, "Germany", score)
countrymean(score_2012, "Israel", score)
countrymean(score_2012, "Japan", score)
countrymean(score_2012, "Netherlands", score)
countrymean(score_2012, "South Korea", score)
countrymean(score_2012, "Sweden", score)
countrymean(score_2012, "Switzerland", score)
countrymean(score_2012, "United Kingdom", score)
